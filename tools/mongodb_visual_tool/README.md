# Ismism-Machine MongoDB可视化工具

## 简介

这是一个专为Ismism-Machine项目设计的MongoDB数据库可视化工具，用于方便地管理艺术数据库中的内容。它提供了直观的界面来浏览、搜索、编辑MongoDB中的文档，以及处理图像和关系数据。

## 特性

1. 简单直观的图形界面
2. 显示数据库中的图片及其元数据
3. 创建和管理文档之间的关系
4. 导出文档为JSON格式
5. 使用右键菜单访问更多功能（查看详情、创建关系、导出、删除等）
6. 使用底部的分页控件浏览更多内容
7. 数据库和文件同步验证，确保数据一致性

## 使用方法

### 一键启动（推荐）

只需双击`ismism_db_tool.py`文件或在命令行中运行：

```bash
python ismism_db_tool.py
```

此启动器会自动：
- 检查Python环境
- 验证所需依赖是否已安装
- 自动定位应用程序文件
- 启动可视化工具

### 连接数据库

1. 启动应用后，在连接框中输入MongoDB URI（默认为`mongodb://localhost:27017`）
2. 点击"Connect"按钮
3. 从左侧树状视图中选择数据库和集合
4. 右侧将显示集合中的文档

### 基本操作

- 点击图像卡片可选择/取消选择文档
- 右键点击图像可访问上下文菜单
- 使用顶部搜索框搜索特定文档
- 使用底部分页控件浏览更多内容
- 选择多个文档进行批量操作（导出、关系创建等）

### 删除操作

1. 右键点击要删除的文档
2. 选择"Delete"选项
3. 确认删除操作
4. 系统将从数据库中删除文档，并尝试删除关联的文件

## 数据一致性

工具启动时会自动检查数据库记录与文件系统的一致性，如果发现问题：
- 显示警告消息指出不一致问题
- 在问题记录上标记⚠️警告图标
- 将详细信息记录到日志文件（`db_file_inconsistencies.log`）

## 关于此工具

此工具是Ismism-Machine项目的一个实用工具，用于更直观地管理和编辑艺术数据库中的内容。它解决了MongoDB Compass无法直接预览图片或管理复杂关系的问题。

## 系统要求

- Python 3.6+
- 依赖库：pymongo, PIL (Pillow), tkinter
- MongoDB 服务器 